'use strict';

/** @type {import('./gOPD')} */
let $gOPD;

// Try to import the 'gOPD' module (if it's external) or use a local implementation.
try {
  $gOPD = require('./gOPD'); // Assuming it's a local module, adjust if it's an external dependency.
} catch (error) {
  console.error('Error loading gOPD module:', error);
  $gOPD = null;
}

// If $gOPD is available, check for functionality.
if ($gOPD) {
  try {
    // Test $gOPD with an example case to ensure it's functioning.
    $gOPD([], 'length');
  } catch (e) {
    // If an error occurs (e.g., IE 8 compatibility), set $gOPD to null.
    console.warn('gOPD is not working as expected. Fallback to null.', e);
    $gOPD = null;
  }
}

module.exports = $gOPD; // Export the $gOPD object (or null if not available).
